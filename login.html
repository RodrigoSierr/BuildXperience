<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Metadatos básicos y configuración del documento -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión - BuildXperience</title>
    <!-- Enlaces a hojas de estilo -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="auth.css">
    <!-- Enlace a Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <script>
        // Script para aplicar el modo oscuro al cargar la página ANTES de que se renderice el contenido
        window.addEventListener('DOMContentLoaded', function() {
            const isDarkModeEnabled = localStorage.getItem('darkModeEnabled') === 'true';
            if (isDarkModeEnabled) {
                document.body.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
            }
        });
    </script>
</head>
<body>
    <!-- Encabezado de la página con navegación -->
    <header>
        <nav>
            <div class="logo">
                <a href="index.html"><h1>BuildXperience</h1></a>
            </div>
            <button class="mobile-menu-toggle" aria-label="Menú">
                <i class="fas fa-bars"></i>
            </button>
            <div class="nav-links">
                <a href="index.html">Inicio</a>
                <a href="productos.html">Productos</a>
                <a href="index.html#destacados">Destacados</a>
                <a href="index.html#contacto">Contacto</a>
                <div class="account-container">
                    <a href="#" class="account-link" id="accountButton">Mi Cuenta</a>
                    <div class="account-dropdown" id="accountDropdown">
                        <span class="user-email"></span>
                        <a href="perfil.html" class="menu-link">Mi Perfil</a>
                        <a href="perfil.html#purchase-history" class="menu-link">Mis Pedidos</a>
                        <a href="#" id="logoutButton" class="logout-button">Cerrar Sesión</a>
                    </div>
                </div>
                <a href="cart.html" class="cart-link">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cartCount" class="cart-count">0</span>
                </a>
            </div>
        </nav>
    </header>

    <main class="auth-container" style="background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('Imágenes/Logos/login.jpg') center/cover no-repeat fixed;">
        <div class="auth-card">
            <h2>Iniciar Sesión</h2>
            <form id="loginForm" class="auth-form">
                <div class="form-group">
                    <label for="email">Correo electrónico</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Contraseña</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="auth-button" id="loginButton">
                    <span class="login-btn-text">Entrar</span>
                    <span class="login-btn-loader" style="display:none;"><i class="fa fa-spinner fa-spin"></i></span>
                </button>
                <button type="button" class="auth-button" id="directAccessButton" style="margin-top:10px;background:#6c757d;">Acceso directo</button>
            </form>
            <div id="login-message"></div>
            <div class="auth-links">
                <p>¿No tienes cuenta? <a href="register.html">Regístrate</a></p>
            </div>
        </div>
    </main>

    <!-- Pie de página -->
    <footer id="contacto">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Contacto</h3>
                <p><i class="fas fa-envelope"></i> info@buildxperience.com</p>
                <p><i class="fas fa-phone"></i> +1 234 567 890</p>
                <p><i class="fas fa-map-marker-alt"></i> Arequipa, Perú</p>
            </div>
            <div class="footer-section">
                <h3>Síguenos</h3>
                <div class="social-links">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                    <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Soporte</h3>
                <a href="#">Centro de Ayuda</a>
                <a href="#">Garantía</a>
                <a href="#">Devoluciones</a>
                <a href="#">Preguntas Frecuentes</a>
            </div>
            <div class="footer-section">
                <h3>Mi Cuenta</h3>
                <a href="perfil.html">Mi Perfil</a>
                <a href="perfil.html#purchase-history">Historial de Compras</a>
                <a href="#">Mis Pedidos</a>
                <a href="#">Favoritos</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 BuildXperience. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="auth.js"></script>
    <script src="mobile.js"></script>
    <script>
    document.getElementById('directAccessButton').onclick = function() {
        // Simula un login de invitado
        const userData = {
            id: 0,
            email: 'invitado@demo.com',
            username: 'Invitado',
            timestamp: new Date().getTime()
        };
        sessionStorage.setItem('userData', JSON.stringify(userData));
        window.location.href = 'checkout.html';
    };
    </script>
</body>
</html> 